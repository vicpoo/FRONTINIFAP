<div class="flex min-h-screen">
  <!-- Sidebar -->
  <app-side-nav-admin></app-side-nav-admin>

  <!-- Contenido -->
  <div class="flex-1 p-6">
    <!-- Encabezado -->
    <div class="flex justify-between items-center mb-6">
      <img src="assets/inifap.png" alt="Logo" class="h-12" />
      <div class="text-right">
        <p class="text-lg font-semibold">BIENVENIDO</p>
        <p class="text-md">ADMINISTRADOR</p>
      </div>
    </div>

    <!-- BotÃ³n agregar -->
    <button
      (click)="abrirAgregar()"
      class="px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 mb-6"
    >
      AGREGAR NUEVO EMPLEADO
    </button>

    <!-- Lista de usuarios -->
    <div>
      <h2 class="text-lg font-bold mb-4">LISTA DE USUARIOS</h2>
      <table class="w-full border-collapse">
        <thead>
          <tr class="bg-purple-300">
            <th class="text-left px-4 py-2">NOMBRE</th>
            <th class="text-left px-4 py-2">CORREO</th>
            <th class="text-center px-4 py-2">OPCIONES</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let u of usuarios" class="odd:bg-purple-100 even:bg-purple-200">
            <td class="px-4 py-2">{{ u.nombre }}</td>
            <td class="px-4 py-2">{{ u.correo }}</td>
            <td class="px-4 py-2 flex justify-center gap-3">
              <img src="assets/editar.png" alt="Editar" class="h-10 cursor-pointer" (click)="abrirEditar(u)" />
              <img src="assets/borrar.png" alt="Eliminar" class="h-10 cursor-pointer" />
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- ðŸŒŸ Modal -->
<div *ngIf="modalAbierto"
     class="fixed inset-0 flex items-center justify-center z-50 backdrop-blur-sm bg-black/50">
  <div class="bg-white p-8 rounded-lg w-full max-w-md shadow-lg text-center">
    <!-- Logo -->
    <img src="assets/inifap.png" alt="Logo" class="h-12 mx-auto mb-4" />

    <!-- TÃ­tulo -->
    <h2 class="text-lg font-bold mb-6">
      {{ esNuevoUsuario ? 'AGREGAR NUEVO EMPLEADO' : 'EDITAR EMPLEADO' }}
    </h2>

    <!-- Formulario -->
    <form (ngSubmit)="guardarCambios()" class="space-y-4">
      <input
        type="text"
        [(ngModel)]="usuarioSeleccionado.nombre"
        name="nombre"
        placeholder="Nombre"
        class="w-full px-3 py-2 bg-purple-200 rounded focus:outline-none"
        required
      />
      <input
        type="email"
        [(ngModel)]="usuarioSeleccionado.correo"
        name="correo"
        placeholder="Correo"
        class="w-full px-3 py-2 bg-purple-200 rounded focus:outline-none"
        required
      />
      <input
        *ngIf="esNuevoUsuario"
        type="password"
        [(ngModel)]="usuarioSeleccionado.contrasena"
        name="contrasena"
        placeholder="ContraseÃ±a"
        class="w-full px-3 py-2 bg-purple-200 rounded focus:outline-none"
        required
      />

      <!-- Botones -->
      <div class="mt-6 space-y-3">
        <button type="submit" class="w-full py-2 bg-green-600 text-white rounded hover:bg-green-700">
          ACEPTAR
        </button>
        <button type="button" (click)="cerrarModal()" class="w-full py-2 bg-red-600 text-white rounded hover:bg-red-700">
          CANCELAR
        </button>
      </div>
    </form>
  </div>
</div>
